<!-- register.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Register for Seminar</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-6">
  <div class="max-w-md mx-auto bg-white p-6 rounded shadow-lg">
    <h2 class="text-2xl font-bold text-blue-700 mb-4">Register for Seminar</h2>
    <form id="registrationForm">
      <label class="block mb-2">Name:
        <input type="text" name="name" required class="w-full border p-2 rounded" />
      </label>
      <label class="block mb-2">Email:
        <input type="email" name="email" required class="w-full border p-2 rounded" />
      </label>
      <label class="block mb-4">Date:
        <input type="date" name="date" required class="w-full border p-2 rounded" />
      </label>
      <input type="hidden" id="seminarTitle" name="seminar" />
      <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded">Confirm Registration</button>
    </form>
  </div>

  <script>
    const form = document.getElementById('registrationForm');
    const seminarParam = new URLSearchParams(window.location.search).get('seminar');
    document.getElementById('seminarTitle').value = seminarParam;

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const selectedDate = new Date(form.date.value);
      const today = new Date();
      today.setHours(0, 0, 0, 0);

      if (selectedDate < today) {
        alert("Please select a future date.");
        return;
      }

      localStorage.setItem('registration', JSON.stringify({
        name: form.name.value,
        email: form.email.value,
        date: form.date.value,
        seminar: seminarParam
      }));

      window.location.href = 'confirmation.html';
    });
  </script>
</body>
</html>